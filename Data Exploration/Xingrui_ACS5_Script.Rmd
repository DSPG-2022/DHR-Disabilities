---
title: "Xingrui_ACS5_Script"
author: "Xingrui"
date: '2022-06-08'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidycensus)
library(tidyverse)

var <- load_variables(2020, "acs5")
```

```{r}
# Employment Status by Disability Status and Type

variable <- c(Employed = "C18120_004",
             Unemployed = "C18120_007")

Employment_Status <- get_acs(geography = "state",
        variables = variable,
        year = 2020,
        state = "IA")

ggplot(Employment_Status, aes(variable, weight = estimate)) +
  geom_bar() +
  labs(x = "Employment Status",
       y = "Population Estimate") +
  geom_errorbar(aes(ymin = estimate - moe,
                    ymax = estimate + moe,
                    width = 0.4)) +
  geom_text(aes(y = estimate,
                label = estimate,
                vjust = 2))
```

```{r}
characteristic <- read_csv("./Data/S1810 DISABILITY CHARACTERISTICS.csv")
# characteristic <- t(characteristic)
characteristic <- as.data.frame(characteristic)

# names(characteristic) <- characteristic[1, ]
# characteristic <- characteristic[-1, ]

# characteristic %>% select(6:14) %>%
#   ggplot(aes(x = ,
#              weight = "Iowa!!Percent with a disability!!Estimate")) +
#   geom_bar()

characteristic1 <- characteristic[6:14, ]

ggplot(characteristic1, aes(x = `Label (Grouping)`, y = "Iowa!!Percent with a disability!!Estimate")) +
  geom_bar()
```

```{r}
var <- c(EMPLOYMENT_STATUS_BY_DISABILITY_STATUS = "C18120_001",
         DETAILED_RACE = "C02003_001")

Employment <- get_pums()
```