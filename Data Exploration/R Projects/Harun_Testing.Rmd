---
title: "Harun_ACS_Script"
author: "Harun"
date: '2022-06-14'
output:
  pdf_document: default
  html_document: default
---

```{r Libraries, include = FALSE}
library(tidycensus)
library(sf)
library(tidyverse)
library(scales)
library(tidyr)


census_api_key("f455269d8b80b427e28a1574cf5bb617a086fa46", install - TRUE)
```

```{r}
DisabledWhite <- c("Under 18 years" = "B18101A_003", "18 to 64 years" = "B18101A_006", "65 years and over" = "B18101A_009")
DisabledBlack <- c("Under 18 years" = "B18101B_003", "18 to 64 years" = "B18101B_006", "65 years and over" = "B18101B_009")
DisabledIndianAlaska <- c("Under 18 years" = "B18101C_003", "18 to 64 years" = "B18101C_006", "65 years and over" = "B18101C_009")
DisabledAsian <- c("Under 18 years" = "B18101D_003", "18 to 64 years" = "B18101D_006", "65 years and over" = "B18101D_009")
DisabledHawaiianPacific <- c("Under 18 years" = "B18101E_003", "18 to 64 years" = "B18101E_006", "65 years and over" = "B18101E_009")
DisabledOtherAlone <- c("Under 18 years" = "B18101F_003", "18 to 64 years" = "B18101F_006", "65 years and over" = "B18101F_009")
DisabledTwoMore <- c("Under 18 years" = "B18101G_003", "18 to 64 years" = "B18101G_006", "65 years and over" = "B18101G_009")
DisabledWhiteAlone <- c("Under 18 years" = "B18101H_003", "18 to 64 years" = "B18101H_006", "65 years and over" = "B18101H_009")
DisabledHispanicLatino <- c("Under 18 years" = "B18101I_003", "18 to 64 years" = "B18101I_006", "65 years and over" = "B18101I_009")
```

```{r}
White <- get_acs(geography = "county",
                           variables = c(White = DisabledWhite, Black = DisabledBlack, IndianAlaskan = DisabledIndianAlaska),
                           year = 2020,
                           state = "IA")
White <- White %>% group_by(NAME) %>%
  mutate(Percentage = estimate / sum(estimate) * 100)

View(White)
```

```{r}
white_sep <- White %>%
  separate(variable, into = c("Race", "Age"), sep = "\\.")
```

